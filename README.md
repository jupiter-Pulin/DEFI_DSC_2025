# Decentralized StableCoin Engine (DSCEngine)

> ä¸€ä¸ªæ— æ²»ç†ã€æ— æ‰‹ç»­è´¹ã€è¶…é¢æŠµæŠ¼ã€å»ä¸­å¿ƒåŒ–çš„ç¨³å®šå¸ç³»ç»Ÿï¼Œçµæ„Ÿæ¥æºäº MakerDAOï¼Œä½†ä»…æ”¯æŒ WETH å’Œ WBTC ä½œä¸ºæŠµæŠ¼å“ã€‚

## ğŸ§  é¡¹ç›®æ¦‚è¿°

DSCEngine æ˜¯ä¸€ä¸ªæ ¸å¿ƒåˆçº¦ï¼Œæ”¯æŒé€šè¿‡æŠµæŠ¼ WETH æˆ– WBTC é“¸é€ å»ä¸­å¿ƒåŒ–ç¨³å®šå¸ï¼ˆDSCï¼‰ã€‚ç›®æ ‡æ˜¯å§‹ç»ˆä¿æŒ 1 DSC = $1 çš„é”šå®šä»·æ ¼ï¼ŒåŒæ—¶ç»´æŒç³»ç»Ÿè¿‡åº¦æŠµæŠ¼çŠ¶æ€ä»¥ç¡®ä¿ç¨³å®šæ€§ã€‚

### âš™ï¸ å…³é”®ç‰¹æ€§

- **ç¾å…ƒé”šå®šï¼ˆ1 DSC = $1ï¼‰**
- **å®Œå…¨å»ä¸­å¿ƒåŒ–ï¼ˆæ— æ²»ç†ï¼‰**
- **é“¾ä¸Šé¢„è¨€æœºæ”¯æŒï¼ˆChainlinkï¼‰**
- **æ— æ‰‹ç»­è´¹é“¸å¸ & èµå›**
- **è¶…é¢æŠµæŠ¼æœºåˆ¶ï¼ˆæœ€å°å¥åº·å› å­ä¸º 1.0ï¼‰**
- **æ¸…ç®—æœºåˆ¶æ”¯æŒæ¸…å¿ä¸å¥åº·ä»“ä½**

---

## ğŸ“¦ åˆçº¦ç»“æ„

DSCEngine.sol
â”œâ”€ çŠ¶æ€å˜é‡
â”œâ”€ æ„é€ å‡½æ•°
â”œâ”€ æŠµæŠ¼ä¸é“¸å¸å‡½æ•°
â”œâ”€ èµå›ä¸é”€æ¯å‡½æ•°
â”œâ”€ æ¸…ç®—é€»è¾‘
â”œâ”€ å¥åº·å› å­è®¡ç®—
â”œâ”€ é¢„è¨€æœºé›†æˆï¼ˆChainlinkï¼‰

---

## ğŸ” åˆçº¦å®‰å…¨

- âœ… ä½¿ç”¨ OpenZeppelin çš„ `ReentrancyGuard` é˜²æ­¢é‡å…¥æ”»å‡»ã€‚
- âœ… å¤šç§ `modifier` ä¿è¯è°ƒç”¨åˆæ³•æ€§ã€‚
- âœ… ä½¿ç”¨ Chainlink æ•°æ®æºæ£€æŸ¥ä»·æ ¼ã€‚

---

## ğŸ’¡ ç³»ç»Ÿè®¾è®¡ç†å¿µ

1. **è¶…é¢æŠµæŠ¼ï¼š** æ‰€æœ‰ç”¨æˆ·çš„æŠµæŠ¼ä»·å€¼å¿…é¡»å¤§äºä»–ä»¬é“¸é€ çš„ç¨³å®šå¸ä»·å€¼ã€‚
2. **æŠµæŠ¼ç‡é™åˆ¶ï¼š** åˆå§‹æŠµæŠ¼ç‡éœ€ â‰¥ 200%ã€‚
3. **æ¸…ç®—æ¿€åŠ±ï¼š** æ¸…ç®—è€…å¯è·å¾—é¢å¤–å¥–åŠ±ï¼ˆé»˜è®¤ 10%ï¼‰ã€‚
4. **å¥åº·å› å­ï¼ˆHealth Factorï¼‰ï¼š** è¡¡é‡è´¦æˆ·å¥åº·çŠ¶å†µçš„æŒ‡æ ‡ï¼Œä½äº 1 å°†é¢ä¸´æ¸…ç®—ã€‚

---

## ğŸ”¨ æ ¸å¿ƒå‡½æ•°

### âœ… `depositCollateralizedAndMintDSC(...)`
å­˜å…¥æŠµæŠ¼å“å¹¶é“¸é€  DSCã€‚

### âœ… `redeemCollateralizedAndBurnDSC(...)`
é”€æ¯ DSC å¹¶èµå›ç›¸åº”æ•°é‡çš„æŠµæŠ¼å“ã€‚

### âœ… `liquidate(...)`
å½“ç”¨æˆ·å¥åº·å› å­è¿‡ä½æ—¶ï¼Œæ¸…ç®—å…¶ä»“ä½ï¼Œè·å¾—æŠµæŠ¼å“+å¥–åŠ±ã€‚

### âœ… `getAccountInformation(...)`
è·å–ç”¨æˆ·å½“å‰å€ºåŠ¡åŠæŠµæŠ¼å“æ€»ä»·å€¼ã€‚

---

## ğŸ§ª ç¤ºä¾‹ï¼šæ¸…ç®—è¿‡ç¨‹


åˆå§‹çŠ¶æ€ï¼š

ç”¨æˆ·æŠµæŠ¼ï¼š1 ETHï¼ˆ$4000ï¼‰

é“¸é€ ï¼š2000 DSC

ä»·æ ¼å˜åŠ¨ï¼š

ETH/USD é™è‡³ $3000

æŠµæŠ¼ä»·å€¼å˜ä¸º $3000

å¥åº·å› å­å˜ä¸º 1.5ï¼ˆä½äºè¦æ±‚ï¼‰

æ¸…ç®—æ“ä½œï¼š

æ¸…ç®—è€…å¿è¿˜ 2000 DSC

è·å¾—çº¦ 0.7334 ETH æŠµæŠ¼å“

åŒ…æ‹¬çº¦ 10% å¥–åŠ±ï¼ˆ0.0667 ETHï¼‰

---

## ğŸ” å¼€å‘è€…æç¤º

- æ‰€æœ‰ä»·æ ¼æŸ¥è¯¢ä¾èµ–äº Chainlink é¢„è¨€æœºï¼ˆéœ€æä¾› token => priceFeed æ˜ å°„ï¼‰ã€‚
- Solidity ç²¾åº¦è®¡ç®—ä¾èµ–äº `PRECISION = 1e18` å’Œ `ADDITIONAL_FEED_PRECISION = 1e10`ã€‚
- æ‰€æœ‰åˆçº¦è°ƒç”¨éœ€å…ˆé€šè¿‡ ERC20 çš„ `approve(...)`ã€‚

---

## ğŸ“ ä¾èµ–é¡¹

- Solidity >=0.8.19
- OpenZeppelin Contracts
- Chainlink Data Feeds

---

## ğŸ“œ è®¸å¯è¯

MIT License
